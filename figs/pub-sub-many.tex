\begin{tikzpicture}
    \node[draw,circle,fill=blue!20] (pub1) at (0,0) {PUB};

    \node[draw,fill=yellow!20] (broker)
        at ($(pub1)+(3,0)$) {Broker};

    \node[draw,circle,fill=red!20] (subs)
        at ($(broker)+(3,0)$) {SUB};


    \draw[->] (pub1.east) --
        node[midway,above] {publish}
        (broker.west);
    \draw[->] (broker.east) --
        node[midway,above] {subscribe}
        (subs.west);
\end{tikzpicture}
