\begin{tikzpicture}
    \foreach \i in {0,...,4}
        \node (pub\i) at (0,\i*.6) {};

    \node[draw,fill=yellow!20] (broker)
        at ($(pub2)+(3,0)$) {Broker};

    \foreach \i in {0,...,4}
        \node[draw,circle,fill=Firebrick3!20]
            (subs\i)
            at ($(pub\i)+(6,0)$) {SUB\i};


    \foreach \i in {0,...,4}{
        \draw[->] (broker.east) --
            node[above,midway] (suba\i) {}
            (subs\i.west);
    }

    \node[rotate=40] at (suba4.north)
        {\texttt{PUBLISH}};
\end{tikzpicture}
